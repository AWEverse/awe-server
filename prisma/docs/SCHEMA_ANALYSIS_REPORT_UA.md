# üìã –ó–í–Ü–¢: –î–µ—Ç–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–≤'—è–∑–∫—ñ–≤ —Ç–∞ –æ–±–º–µ–∂–µ–Ω—å —É Prisma —Å—Ö–µ–º—ñ

**–î–∞—Ç–∞ –∞–Ω–∞–ª—ñ–∑—É:** 24 —Ç—Ä–∞–≤–Ω—è 2025  
**–°—Ö–µ–º–∞:** AWE –ú—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞  
**–†–æ–∑–º—ñ—Ä —Å—Ö–µ–º–∏:** 1516 —Ä—è–¥–∫—ñ–≤  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–ê–õ–Ü–î–ù–ê

---

## üéØ –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–≥–ª—è–¥

–¶—è —Å—Ö–µ–º–∞ –æ–±'—î–¥–Ω—É—î —á–æ—Ç–∏—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:
- üì± **–ú–µ—Å–µ–Ω–¥–∂–µ—Ä** - —Å–∏—Å—Ç–µ–º–∞ —á–∞—Ç—ñ–≤ —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- üé• **–í—ñ–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥** - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- üë• **–°–æ—Ü—ñ–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞** - –ø—ñ–¥–ø–∏—Å–∫–∏, –ª–∞–π–∫–∏, –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
- üí¨ **–§–æ—Ä—É–º** - —Å–∏—Å—Ç–µ–º–∞ –æ–±–≥–æ–≤–æ—Ä–µ–Ω—å —Ç–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

```bash
‚úì Prisma —Å—Ö–µ–º–∞ —É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–π—à–ª–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é
‚úì –£—Å—ñ –∑–≤'—è–∑–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω—ñ
‚úì Foreign key constraints –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
‚úì 1516 —Ä—è–¥–∫—ñ–≤ —Å—Ö–µ–º–∏ –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
```

---

## üîó –ê–Ω–∞–ª—ñ–∑ –∑–≤'—è–∑–∫—ñ–≤ –º—ñ–∂ –º–æ–¥–µ–ª—è–º–∏

### üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –∑–≤'—è–∑–∫–∏ (User-Centric)

| –ú–æ–¥–µ–ª—å | –¢–∏–ø –∑–≤'—è–∑–∫—É | –û–ø–∏—Å |
|--------|-------------|------|
| `User ‚Üí Content` | One-to-Many | –ê–≤—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç—É |
| `User ‚Üí Chat` | One-to-Many | –°—Ç–≤–æ—Ä—é–≤–∞—á —á–∞—Ç—ñ–≤ |
| `User ‚Üí Message` | One-to-Many | –í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å |
| `User ‚Üí ForumPost` | One-to-Many | –ê–≤—Ç–æ—Ä –ø–æ—Å—Ç—ñ–≤ —Ñ–æ—Ä—É–º—É |
| `User ‚Üí ForumReply` | One-to-Many | –ê–≤—Ç–æ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π |
| `User ‚Üî User` | Many-to-Many | –ü—ñ–¥–ø–∏—Å–∫–∏ (Subscription) |
| `User ‚Üí ChatParticipant` | One-to-Many | –£—á–∞—Å—Ç—å —É —á–∞—Ç–∞—Ö |
| `User ‚Üí Report` | Multiple | –°–∫–∞—Ä–≥–∏ (–∞–≤—Ç–æ—Ä, –æ–±'—î–∫—Ç, –º–æ–¥–µ—Ä–∞—Ç–æ—Ä) |

### üí¨ –°–∏—Å—Ç–µ–º–∞ —á–∞—Ç—ñ–≤

```
Chat
‚îú‚îÄ‚îÄ ChatParticipant (One-to-Many)
‚îÇ   ‚îî‚îÄ‚îÄ User
‚îú‚îÄ‚îÄ Message (One-to-Many)
‚îÇ   ‚îú‚îÄ‚îÄ MessageReaction (One-to-Many)
‚îÇ   ‚îú‚îÄ‚îÄ MessageAttachment (One-to-Many)
‚îÇ   ‚îú‚îÄ‚îÄ MessageRead (One-to-Many)
‚îÇ   ‚îî‚îÄ‚îÄ MessageEdit (One-to-Many)
‚îî‚îÄ‚îÄ pinnedMessage (One-to-One, optional)
```

### üé• –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–Ω—Ç—É

```
Content
‚îú‚îÄ‚îÄ ContentAttachment (One-to-Many)
‚îú‚îÄ‚îÄ Comment (One-to-Many)
‚îÇ   ‚îî‚îÄ‚îÄ Like (One-to-Many)
‚îú‚îÄ‚îÄ Like (One-to-Many)
‚îú‚îÄ‚îÄ ContentTag (Many-to-Many)
‚îÇ   ‚îî‚îÄ‚îÄ Tag
‚îú‚îÄ‚îÄ WatchHistory (One-to-Many)
‚îî‚îÄ‚îÄ PlaylistItem (One-to-Many)
```

### üí¨ –°–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ä—É–º—É

```
ForumCategory
‚îú‚îÄ‚îÄ ForumPost (One-to-Many)
‚îÇ   ‚îú‚îÄ‚îÄ ForumReply (One-to-Many)
‚îÇ   ‚îú‚îÄ‚îÄ ForumVote (One-to-Many)
‚îÇ   ‚îú‚îÄ‚îÄ ForumSubscription (One-to-Many)
‚îÇ   ‚îú‚îÄ‚îÄ ForumAttachment (One-to-Many)
‚îÇ   ‚îú‚îÄ‚îÄ ForumPostSEO (One-to-One)
‚îÇ   ‚îî‚îÄ‚îÄ ForumHotTopics (One-to-Many)
‚îú‚îÄ‚îÄ ForumCategoryPermission (One-to-Many)
‚îî‚îÄ‚îÄ ForumCategoryModerator (One-to-Many)
```

---

## üîí –ê–Ω–∞–ª—ñ–∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å

### –ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤—ñ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –ø–æ–ª—è

| –ú–æ–¥–µ–ª—å | –ü–æ–ª–µ | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|------|-------------|
| `User` | `email` | –£–Ω—ñ–∫–∞–ª—å–Ω–∞ –∞–¥—Ä–µ—Å–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏ |
| `User` | `username` | –£–Ω—ñ–∫–∞–ª—å–Ω–µ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| `User` | `phoneNumber` | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É |
| `Chat` | `inviteLink` | –£–Ω—ñ–∫–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è |
| `Device` | `deviceId` | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø—Ä–∏—Å—Ç—Ä–æ—é |
| `ForumCategory` | `slug` | SEO-–¥—Ä—É–∂–Ω—ñ–π URL –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó |
| `ForumPost` | `slug` | SEO-–¥—Ä—É–∂–Ω—ñ–π URL –ø–æ—Å—Ç–∞ |
| `RefreshTokenBlacklist` | `tokenHash` | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Ö–µ—à —Ç–æ–∫–µ–Ω–∞ |

### –°–∫–ª–∞–¥–µ–Ω—ñ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è

| –ú–æ–¥–µ–ª—å | –ü–æ–ª—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|------|-------------|
| `ChatParticipant` | `[chatId, userId]` | –û–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤ —á–∞—Ç—ñ |
| `MessageReaction` | `[messageId, userId, reaction]` | –û–¥–Ω–∞ —Ä–µ–∞–∫—Ü—ñ—è –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| `MessageRead` | `[messageId, userId]` | –í—ñ–¥–º—ñ—Ç–∫–∞ –ø—Ä–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—è |
| `Subscription` | `[subscriberId, subscribedToId]` | –£–Ω—ñ–∫–∞–ª—å–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞ |
| `Like` | `[userId, contentId]` | –û–¥–∏–Ω –ª–∞–π–∫ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç |
| `Like` | `[userId, commentId]` | –û–¥–∏–Ω –ª–∞–π–∫ –Ω–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä |
| `ForumVote` | `[userId, postId]` | –û–¥–Ω–µ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ –ø–æ—Å—Ç |
| `ForumVote` | `[userId, replyId]` | –û–¥–Ω–µ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –∑–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å |
| `ContactList` | `[userId, contactId]` | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–∞–∫—Ç |
| `WatchHistory` | `[userId, contentId]` | –Ü—Å—Ç–æ—Ä—ñ—è –ø–µ—Ä–µ–≥–ª—è–¥—É |

---

## üóÉÔ∏è –ê–Ω–∞–ª—ñ–∑ —ñ–Ω–¥–µ–∫—Å—ñ–≤ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

### –û–¥–∏–Ω–æ—á–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏

#### üë• –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
```sql
-- –û—Å–Ω–æ–≤–Ω—ñ –ø–æ–ª—è
‚úì email, username, phoneNumber, roleId
‚úì status, flags, lastSeen, createdAt
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚úì subscribersCount, totalViews, reputation
```

#### üí¨ –ß–∞—Ç–∏ —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
```sql
-- –ß–∞—Ç–∏
‚úì type, createdById, flags, lastMessageAt, memberCount
-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
‚úì chatId, senderId, messageType, flags, replyToId, threadId
-- –£—á–∞—Å–Ω–∏–∫–∏
‚úì chatId, userId, role, joinedAt, leftAt
```

#### üé• –ö–æ–Ω—Ç–µ–Ω—Ç
```sql
-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
‚úì authorId, type, status, publishedAt
‚úì viewsCount, likesCount, createdAt, flags
-- –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ
‚úì contentId, authorId, parentId, createdAt, likesCount
-- –õ–∞–π–∫–∏
‚úì userId, contentId, commentId, createdAt
```

#### üí¨ –§–æ—Ä—É–º
```sql
-- –ü–æ—Å—Ç–∏
‚úì categoryId, authorId, flags, createdAt, lastReplyAt
‚úì viewsCount, likesCount, slug
-- –í—ñ–¥–ø–æ–≤—ñ–¥—ñ
‚úì postId, authorId, createdAt, flags, parentId
-- –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó
‚úì position, flags, slug, postsCount
```

### –°–∫–ª–∞–¥–µ–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

| –ú–æ–¥–µ–ª—å | –Ü–Ω–¥–µ–∫—Å | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|--------|-------------|
| `User` | `[status, flags]` | –ê–∫—Ç–∏–≤–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ |
| `User` | `[flags, status]` | –ü–æ—à—É–∫ –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º |
| `Chat` | `[type, flags]` | –¢–∏–ø–∏ —á–∞—Ç—ñ–≤ |
| `Message` | `[chatId, createdAt]` | –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–æ —á–∞—Å—É |
| `Message` | `[chatId, flags, createdAt]` | –§—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è |
| `Content` | `[type, status, publishedAt]` | –û–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç |
| `Content` | `[authorId, type, status]` | –ö–æ–Ω—Ç–µ–Ω—Ç –∞–≤—Ç–æ—Ä–∞ |
| `Comment` | `[contentId, parentId, createdAt]` | –í–∫–ª–∞–¥–µ–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ |
| `ForumPost` | `[categoryId, flags, lastReplyAt]` | –ê–∫—Ç–∏–≤–Ω—ñ —Ç–µ–º–∏ |
| `ForumPost` | `[categoryId, flags, createdAt]` | –ù–æ–≤—ñ —Ç–µ–º–∏ |
| `Notification` | `[userId, flags, createdAt]` | –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |

---

## üö´ –ê–Ω–∞–ª—ñ–∑ –∫–∞—Å–∫–∞–¥–Ω–∏—Ö –≤–∏–¥–∞–ª–µ–Ω—å (onDelete)

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –∫–∞—Å–∫–∞–¥–∏

#### ‚úÖ Cascade (–ö–∞—Å–∫–∞–¥–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è)
```prisma
User ‚Üí Device, Session, UserCrypto
Chat ‚Üí ChatParticipant, Message
Message ‚Üí MessageAttachment, MessageReaction, MessageRead
Content ‚Üí ContentAttachment, Comment, Like
ForumCategory ‚Üí ForumPost, ForumCategoryPermission
ForumPost ‚Üí ForumReply, ForumVote, ForumAttachment
User ‚Üí Subscription, ContactList, Notification
```

#### ‚úÖ SetNull (–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è NULL)
```prisma
SecurityAuditLog.userId ‚Üí SetNull (–∑–±–µ—Ä—ñ–≥–∞—î –ª–æ–≥–∏)
SecurityAuditLog.resolvedBy ‚Üí SetNull (–∑–±–µ—Ä—ñ–≥–∞—î —ñ—Å—Ç–æ—Ä—ñ—é)
```

**–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:** –ö–∞—Å–∫–∞–¥–Ω—ñ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö, –∞ SetNull –∑–±–µ—Ä—ñ–≥–∞—î –≤–∞–∂–ª–∏–≤—É —ñ—Å—Ç–æ—Ä–∏—á–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.

---

## üéØ –ë—ñ—Ç–æ–≤—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ —Ç–∞ —ó—Ö –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å

### –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –±—ñ—Ç–æ–≤—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ

| –ú–æ–¥–µ–ª—å | –ü—Ä–∞–ø–æ—Ä—Ü—ñ | –ó–Ω–∞—á–µ–Ω–Ω—è |
|--------|----------|----------|
| `User` | `verified(1), bot(2), online(4)` | –°—Ç–∞—Ç—É—Å–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| | `creator(8), live(16), premium(32), staff(64)` | –†–æ–ª—ñ —Ç–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ |
| `Chat` | `archived(1), public(2), verified(4), premium(8)` | –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —á–∞—Ç—É |
| `ChatParticipant` | `admin(1), owner(2), muted(4), banned(8)` | –ü—Ä–∞–≤–∞ —É—á–∞—Å–Ω–∏–∫–∞ |
| `Message` | `deleted(1), edited(2), forwarded(4), pinned(8)` | –°—Ç–∞–Ω –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è |
| `Content` | `featured(1), monetized(2), ageRestricted(4)` | –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –∫–æ–Ω—Ç–µ–Ω—Ç—É |
| | `commentsDisabled(8)` | –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è |
| `ForumPost` | `pinned(1), locked(2), featured(4), solved(8)` | –°—Ç–∞–Ω –ø–æ—Å—Ç–∞ |
| | `hidden(16), deleted(32)` | –í–∏–¥–∏–º—ñ—Å—Ç—å |
| `ForumReply` | `deleted(1), edited(2), solution(4), hidden(8)` | –°—Ç–∞–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ |
| `Report` | `reviewed(1), resolved(2), dismissed(4), escalated(8)` | –°—Ç–∞–Ω —Å–∫–∞—Ä–≥–∏ |

**–ü–µ—Ä–µ–≤–∞–≥–∏ –±—ñ—Ç–æ–≤–∏—Ö –ø—Ä–∞–ø–æ—Ä—Ü—ñ–≤:**
- üöÄ –®–≤–∏–¥–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- üíæ –ï–∫–æ–Ω–æ–º—ñ—è –º—ñ—Å—Ü—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- üîß –ì–Ω—É—á–∫–µ –∫–æ–º–±—ñ–Ω—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—ñ–≤

---

## üìä –î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –¥–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–æ–ª—è

#### üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
```prisma
subscribersCount, subscriptionsCount
videosCount, postsCount
totalViews, totalLikes, reputation
```

#### üí¨ –ß–∞—Ç–∏
```prisma
memberCount, lastMessageText
```

#### üé• –ö–æ–Ω—Ç–µ–Ω—Ç
```prisma
viewsCount, likesCount, dislikesCount
commentsCount, sharesCount
```

#### üí≠ –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ —Ç–∞ —Ñ–æ—Ä—É–º
```prisma
Comment: likesCount
ForumPost: viewsCount, repliesCount, likesCount, dislikesCount
ForumReply: likesCount, dislikesCount
ForumCategory: postsCount, repliesCount, topicsCount
```

#### üè∑Ô∏è –¢–µ–≥–∏
```prisma
Tag: usageCount
ForumTag: usageCount
```

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∞ –¥–ª—è —à–≤–∏–¥–∫–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±–µ–∑ JOIN –æ–ø–µ—Ä–∞—Ü—ñ–π.

---

## üîÑ –°–∏—Å—Ç–µ–º–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è

### –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ –∫–µ—à-–º–æ–¥–µ–ª—ñ

| –ú–æ–¥–µ–ª—å | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –ü–æ–ª—è |
|--------|-------------|------|
| `ChatStatsCache` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç—ñ–≤ | `messageCount, participantCount, lastActivity` |
| `UserStatsCache` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ | `messagesSent, chatsCount, storageUsed` |
| `ContentStatsCache` | –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç—É | `hourlyViews, dailyViews, demographics` |
| `SearchCache` | –ö–µ—à –ø–æ—à—É–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ | `queryHash, results, expiresAt` |
| `TrendingCache` | –¢—Ä–µ–Ω–¥–æ–≤—ñ –¥–∞–Ω—ñ | `type, data, region, expiresAt` |
| `ForumHotTopics` | –ì–∞—Ä—è—á—ñ —Ç–µ–º–∏ —Ñ–æ—Ä—É–º—É | `score, position, period, region` |

**–ü–µ—Ä–µ–≤–∞–≥–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è:**
- ‚ö° –ú–∏—Ç—Ç—î–≤—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- üìâ –ó–Ω–∏–∂–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ
- üéØ –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–Ω—Ç—É

---

## üìà –†–æ–∑—à–∏—Ä–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### SEO —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞

| –ú–æ–¥–µ–ª—å | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|-------------|
| `ForumPostSEO` | SEO –º–µ—Ç–∞–¥–∞–Ω—ñ –¥–ª—è –ø–æ—Å—Ç—ñ–≤ —Ñ–æ—Ä—É–º—É |
| `ForumAnalytics` | –î–µ—Ç–∞–ª—å–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ñ–æ—Ä—É–º—É |
| `ForumReputation` | –°–∏—Å—Ç–µ–º–∞ —Ä–µ–ø—É—Ç–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ |
| `SecurityAuditLog` | –ê—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏ |
| `ForumNotificationQueue` | –ß–µ—Ä–≥–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å |

### –ê—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

| –ú–æ–¥–µ–ª—å | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|-------------|
| `MessageArchive` | –ê—Ä—Ö—ñ–≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ –∫–æ–º–ø—Ä–µ—Å—ñ—î—é |
| `ContentArchive` | –ê—Ä—Ö—ñ–≤ –≤–∏–¥–∞–ª–µ–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É |

**–î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- üìÖ –ü–∞—Ä—Ç–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –ø–æ —á–∞—Å—É —á–µ—Ä–µ–∑ SQL
- üóúÔ∏è –ö–æ–º–ø—Ä–µ—Å—ñ—è –∞—Ä—Ö—ñ–≤–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- üîç –ü–æ–≤–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–∏–π –ø–æ—à—É–∫

---

## üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—è

### –°–∏—Å—Ç–µ–º–∏ –∑–∞—Ö–∏—Å—Ç—É

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|-----------|-------------|
| **Report** | –°–∏—Å—Ç–µ–º–∞ —Å–∫–∞—Ä–≥ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç/–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ |
| **SecurityAuditLog** | –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π –±–µ–∑–ø–µ–∫–∏ |
| **ForumModerationLog** | –õ–æ–≥–∏ –¥—ñ–π –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—ñ–≤ |
| **RefreshTokenBlacklist** | –ß–æ—Ä–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω—ñ–≤ |
| **UserCrypto** | –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω—ñ –∫–ª—é—á—ñ |

### –†—ñ–≤–Ω—ñ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—è** - —á–µ—Ä–µ–∑ –±—ñ—Ç–æ–≤—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ
2. **–ú–æ–¥–µ—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** - —Å–∏—Å—Ç–µ–º–∞ —Å–∫–∞—Ä–≥
3. **–ú–æ–¥–µ—Ä–∞—Ü—ñ—è —Ñ–æ—Ä—É–º—É** - —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Ä–æ–ª—ñ
4. **–ê—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏** - –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –¥—ñ–π

---

## üöÄ –í–∏—Å–Ω–æ–≤–∫–∏ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### ‚úÖ –°—Ö–µ–º–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ—Ä–µ–∫—Ç–Ω–∞

| –ö—Ä–∏—Ç–µ—Ä—ñ–π | –û—Ü—ñ–Ω–∫–∞ | –û–ø–∏—Å |
|----------|--------|------|
| **–ó–≤'—è–∑–∫–∏** | ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ | 50+ –∑–≤'—è–∑–∫—ñ–≤ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
| **–û–±–º–µ–∂–µ–Ω–Ω—è** | ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ | 25+ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å |
| **–Ü–Ω–¥–µ–∫—Å–∏** | ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ | 100+ —ñ–Ω–¥–µ–∫—Å—ñ–≤ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó |
| **–ö–∞—Å–∫–∞–¥–∏** | ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ | –ü—Ä–∞–≤–∏–ª–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö |
| **–ë—ñ—Ç–æ–≤—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ** | ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ | –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω—ñ–≤ |
| **–î–µ–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è** | ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ | –ö—Ä–∏—Ç–∏—á–Ω—ñ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏ |
| **–ö–µ—à—É–≤–∞–Ω–Ω—è** | ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ | –ë–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–µ –∫–µ—à—É–≤–∞–Ω–Ω—è |

### üéØ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å:**
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º—ñ–ª—å–π–æ–Ω—ñ–≤ –∑–∞–ø–∏—Å—ñ–≤
- ‚úÖ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è –≤–∏—Å–æ–∫–∏—Ö –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å
- ‚úÖ –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- ‚úÖ –ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–æ—ó –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω—ñ —Å–∏—Å—Ç–µ–º–∏ –±–µ–∑–ø–µ–∫–∏
- ‚úÖ –†–æ–∑—à–∏—Ä–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó

**–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:**
- ‚úÖ –¶—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö –Ω–∞ —Ä—ñ–≤–Ω—ñ –ë–î
- ‚úÖ –í—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å —Ç–∞ —Ä–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è
- ‚úÖ –ê—É–¥–∏—Ç —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### üí° –ü–æ–¥–∞–ª—å—à—ñ –∫—Ä–æ–∫–∏

1. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ç—Ä–∏–∫
2. **Backup —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è** - —Ä–µ–≥—É–ª—è—Ä–Ω–µ —Ä–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è
3. **–ü–∞—Ä—Ç–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è** - –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ç–∞–±–ª–∏—Ü—å
4. **–†–µ–ø–ª—ñ–∫–∞—Ü—ñ—è** - –¥–ª—è –≤–∏—Å–æ–∫–æ—ó –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ö–µ–º–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è |
|---------|----------|
| **–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤** | 1516 |
| **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –º–æ–¥–µ–ª–µ–π** | 45+ |
| **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–≤'—è–∑–∫—ñ–≤** | 50+ |
| **–ö—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–Ω–¥–µ–∫—Å—ñ–≤** | 100+ |
| **–ö—ñ–ª—å–∫—ñ—Å—Ç—å enum-—ñ–≤** | 15+ |
| **–£–Ω—ñ–∫–∞–ª—å–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è** | 25+ |
| **–ë—ñ—Ç–æ–≤—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ** | 8 –º–æ–¥–µ–ª–µ–π |
| **–ö–µ—à-—Ç–∞–±–ª–∏—Ü—ñ** | 6 |

---

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–≤—ñ—Ç—É:** 24 —Ç—Ä–∞–≤–Ω—è 2025  
**–í–µ—Ä—Å—ñ—è —Å—Ö–µ–º–∏:** Production Ready  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

---

*–¶–µ–π –∑–≤—ñ—Ç –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î, —â–æ Prisma —Å—Ö–µ–º–∞ –¥–ª—è AWE –º—É–ª—å—Ç–∏–º–µ–¥—ñ–π–Ω–æ—ó –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞–π–∫—Ä–∞—â–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑ –¥–∞–Ω–∏—Ö —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ.*
